<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>The Eclipse Command Framework</title>
<meta http-equiv="Content-Type"
	content="text/html; charset=windows-1252"/>
<link href="../article.css" type="text/css" rel="stylesheet"/>
<style type="text/css">
/* temporarly markes for editing */
.task {
  background-color: #ffff80;
}
</style>
</head>
<body>

<h1>The Eclipse RCP Command Framework</h1>
<div class="summary">
<h2>Summary</h2>
  <p><span class="task">Summary, target audience, target version (Eclipse 3.4)</span></p>
<div class="author">Draft by Marc R. Hoffmann, Mountainminds GmbH &amp; Co. KG</div>
<div class="copyright">Copyright &copy; 2008 Mountainminds GmbH &amp; Co. KG</div>
<div class="date">DRAFT - April, 2008</div>
</div>

<div class="content">

<ul>
  <li class="task">Introduction</li>
  <li class="task">History</li>
  <li class="task">Outline: As this will be a lengthy article provide a short
    overview how this article is organized with anchor links to its sections.</li>
</ul>


<h2>The Big Picture</h2>

<ul>
  <li class="task">Highlevel overview defining the core terms along with there
    basic concepts</li>
  <li class="task">A chart "triggers - commands - handlers" depicts the core
    players of the framework.  For each subsequent section a hilighted thumbnail
    version of the same chart could depict the focus of the respective section.</li>
  <li class="task">Involved Services</li>
</ul>


<h2>Commands</h2>

<ul>
  <li class="task">Purpose and properties</li>
  <li class="task">Declaring commands via extension point</li>
  <li class="task">Declaring commands via API (why?)</li>
  <li class="task">Parametrized commands</li>
  <li class="task">Command icons</li>
</ul>

<h3>Predefined Commands</h3>

<ul>
  <li class="task">Reference to API for Command-IDs in case it will be available
    in Eclipse 3.4</li>
</ul>

<p>
  The <code>org.eclipse.ui</code> bundle comes with a set of predefined commands
  in several categories. These commands form the basic user operations of the
  workbench like opening views or saving editors. Most of them are probably
  required by any custom RCP application and have already global command
  handlers associated to them. For example the handler of the <i>Save</i>
  command will delegate to the 
  <a href="http://help.eclipse.org/help33/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/ui/ISaveablePart.html"><code>ISaveablePart.doSave()</code></a>
  method of the active Editor.
  
  Other commands might be re-used in local contexts to implement specific
  behavior for a common concept. For example a <i>Order Items</i> view might
  implement a local handler for the <i>Delete</i>
  (<code>org.eclipse.ui.edit.delete</code>) command to remove the selected item
  from the shopping basket. Re-using existing command definitions for semantical
  similar operations is a good coding practice as it will lead to applications
  with consistent user experience: Whenever a particular item can be deleted
  the according command has the same icon, the expected key binding (the
  <code>Delete</code> key) is active and global menu entries like 
  <i>Edit</i>&nbsp;&rarr;&nbsp;<i>Delete</i> are automatically enabled.
</p>

<p>
  The following table list all categories and commands defined by the
  <code>org.eclipse.ui</code> bundle along with the respective command ids. You
  need the id strings when registering your own handlers for the commands
  &ndash; unfortunately Eclipse does not provide Java constants here. For
  historical reasons the id naming scheme and categorization isn't consistent in
  all places.
</p>

<table class ="figure">
  <tr><th>Name</th><th>ID</th></tr>
  <tr style="background-color:#cccccc"><td><b>Category File</b></td><td><code>org.eclipse.ui.category.file</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="New"/> New</td><td><code>org.eclipse.ui.newWizard</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Close"/> Close</td><td><code>org.eclipse.ui.file.close</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Close All"/> Close All</td><td><code>org.eclipse.ui.file.closeAll</code></td></tr>
  <tr><td><img src="images/import_wiz.gif" width="16" height="16" alt="Import"/> Import</td><td><code>org.eclipse.ui.file.import</code></td></tr>
  <tr><td><img src="images/export_wiz.gif" width="16" height="16" alt="Export"/> Export</td><td><code>org.eclipse.ui.file.export</code></td></tr>
  <tr><td><img src="images/save_edit.gif" width="16" height="16" alt="Save"/> Save</td><td><code>org.eclipse.ui.file.save</code></td></tr>
  <tr><td><img src="images/saveas_edit.gif" width="16" height="16" alt="Save As"/> Save As</td><td><code>org.eclipse.ui.file.saveAs</code></td></tr>
  <tr><td><img src="images/saveall_edit.gif" width="16" height="16" alt="Save All"/> Save All</td><td><code>org.eclipse.ui.file.saveAll</code></td></tr>
  <tr><td><img src="images/print_edit.gif" width="16" height="16" alt="Print"/> Print</td><td><code>org.eclipse.ui.file.print</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Revert"/> Revert</td><td><code>org.eclipse.ui.file.revert</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Restart"/> Restart</td><td><code>org.eclipse.ui.file.restartWorkbench</code></td></tr>
  <tr><td><img src="images/refresh_nav.gif" width="16" height="16" alt="Refresh"/> Refresh</td><td><code>org.eclipse.ui.file.refresh</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Properties"/> Properties</td><td><code>org.eclipse.ui.file.properties</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Exit"/> Exit</td><td><code>org.eclipse.ui.file.exit</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Move..."/> Move...</td><td><code>org.eclipse.ui.edit.move</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Rename"/> Rename</td><td><code>org.eclipse.ui.edit.rename</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Close Others"/> Close Others</td><td><code>org.eclipse.ui.file.closeOthers</code></td></tr>
  <tr style="background-color:#cccccc"><td><b>Category Edit</b></td><td><code>org.eclipse.ui.category.edit</code></td></tr>
  <tr><td><img src="images/undo_edit.gif" width="16" height="16" alt="Undo"/> Undo</td><td><code>org.eclipse.ui.edit.undo</code></td></tr>
  <tr><td><img src="images/redo_edit.gif" width="16" height="16" alt="Redo"/> Redo</td><td><code>org.eclipse.ui.edit.redo</code></td></tr>
  <tr><td><img src="images/cut_edit.gif" width="16" height="16" alt="Cut"/> Cut</td><td><code>org.eclipse.ui.edit.cut</code></td></tr>
  <tr><td><img src="images/copy_edit.gif" width="16" height="16" alt="Copy"/> Copy</td><td><code>org.eclipse.ui.edit.copy</code></td></tr>
  <tr><td><img src="images/paste_edit.gif" width="16" height="16" alt="Paste"/> Paste</td><td><code>org.eclipse.ui.edit.paste</code></td></tr>
  <tr><td><img src="images/delete_edit.gif" width="16" height="16" alt="Delete"/> Delete</td><td><code>org.eclipse.ui.edit.delete</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Content Assist"/> Content Assist</td><td><code>org.eclipse.ui.edit.text.contentAssist.proposals</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Context Information"/> Context Information</td><td><code>org.eclipse.ui.edit.text.contentAssist.contextInformation</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Select All"/> Select All</td><td><code>org.eclipse.ui.edit.selectAll</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Find and Replace"/> Find and Replace</td><td><code>org.eclipse.ui.edit.findReplace</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Add Bookmark"/> Add Bookmark</td><td><code>org.eclipse.ui.edit.addBookmark</code></td></tr>
  <tr style="background-color:#cccccc"><td><b>Category Navigate</b></td><td><code>org.eclipse.ui.category.navigate</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Go Into"/> Go Into</td><td><code>org.eclipse.ui.navigate.goInto</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Back"/> Back</td><td><code>org.eclipse.ui.navigate.back</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Forward"/> Forward</td><td><code>org.eclipse.ui.navigate.forward</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Up"/> Up</td><td><code>org.eclipse.ui.navigate.up</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Next"/> Next</td><td><code>org.eclipse.ui.navigate.next</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Backward History"/> Backward History</td><td><code>org.eclipse.ui.navigate.backwardHistory</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Forward History"/> Forward History</td><td><code>org.eclipse.ui.navigate.forwardHistory</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Previous"/> Previous</td><td><code>org.eclipse.ui.navigate.previous</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Toggle Link with Editor "/> Toggle Link with Editor </td><td><code>org.eclipse.ui.navigate.linkWithEditor</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Next Page"/> Next Page</td><td><code>org.eclipse.ui.part.nextPage</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Previous Page"/> Previous Page</td><td><code>org.eclipse.ui.part.previousPage</code></td></tr>
  <tr><td><img src="images/collapseall.gif" width="16" height="16" alt="Collapse All"/> Collapse All</td><td><code>org.eclipse.ui.navigate.collapseAll</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Show In"/> Show In</td><td><code>org.eclipse.ui.navigate.showIn</code></td></tr>
  <tr style="background-color:#cccccc"><td><b>Category Window</b></td><td><code>org.eclipse.ui.category.window</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="New Window"/> New Window</td><td><code>org.eclipse.ui.window.newWindow</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="New Editor"/> New Editor</td><td><code>org.eclipse.ui.window.newEditor</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Quick Switch Editor"/> Quick Switch Editor</td><td><code>org.eclipse.ui.window.openEditorDropDown</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Quick Access"/> Quick Access</td><td><code>org.eclipse.ui.window.quickAccess</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Switch to Editor"/> Switch to Editor</td><td><code>org.eclipse.ui.window.switchToEditor</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Show System Menu"/> Show System Menu</td><td><code>org.eclipse.ui.window.showSystemMenu</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Show View Menu"/> Show View Menu</td><td><code>org.eclipse.ui.window.showViewMenu</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Activate Editor"/> Activate Editor</td><td><code>org.eclipse.ui.window.activateEditor</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Maximize Active View or Editor"/> Maximize Active View or Editor</td><td><code>org.eclipse.ui.window.maximizePart</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Minimize Active View or Editor"/> Minimize Active View or Editor</td><td><code>org.eclipse.ui.window.minimizePart</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Next Editor"/> Next Editor</td><td><code>org.eclipse.ui.window.nextEditor</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Previous Editor"/> Previous Editor</td><td><code>org.eclipse.ui.window.previousEditor</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Next View"/> Next View</td><td><code>org.eclipse.ui.window.nextView</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Previous View"/> Previous View</td><td><code>org.eclipse.ui.window.previousView</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Next Perspective"/> Next Perspective</td><td><code>org.eclipse.ui.window.nextPerspective</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Previous Perspective"/> Previous Perspective</td><td><code>org.eclipse.ui.window.previousPerspective</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Close All Perspectives"/> Close All Perspectives</td><td><code>org.eclipse.ui.window.closeAllPerspectives</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Close Perspective"/> Close Perspective</td><td><code>org.eclipse.ui.window.closePerspective</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Close Part"/> Close Part</td><td><code>org.eclipse.ui.file.closePart</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Customize Perspective"/> Customize Perspective</td><td><code>org.eclipse.ui.window.customizePerspective</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Hide Editors"/> Hide Editors</td><td><code>org.eclipse.ui.window.hideShowEditors</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Lock the Toolbars"/> Lock the Toolbars</td><td><code>org.eclipse.ui.window.lockToolBar</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Pin Editor"/> Pin Editor</td><td><code>org.eclipse.ui.window.pinEditor</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Preferences"/> Preferences</td><td><code>org.eclipse.ui.window.preferences</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Reset Perspective"/> Reset Perspective</td><td><code>org.eclipse.ui.window.resetPerspective</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Save Perspective As"/> Save Perspective As</td><td><code>org.eclipse.ui.window.savePerspective</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Show Key Assist"/> Show Key Assist</td><td><code>org.eclipse.ui.window.showKeyAssist</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Toggle Toolbar Visibility"/> Toggle Toolbar Visibility</td><td><code>org.eclipse.ui.ToggleCoolbarAction</code></td></tr>
  <tr style="background-color:#cccccc"><td><b>Category Help</b></td><td><code>org.eclipse.ui.category.help</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Help Contents"/> Help Contents</td><td><code>org.eclipse.ui.help.helpContents</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Help Search"/> Help Search</td><td><code>org.eclipse.ui.help.helpSearch</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Dynamic Help"/> Dynamic Help</td><td><code>org.eclipse.ui.help.dynamicHelp</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Welcome"/> Welcome</td><td><code>org.eclipse.ui.help.quickStartAction</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Tips and Tricks"/> Tips and Tricks</td><td><code>org.eclipse.ui.help.tipsAndTricksAction</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="About"/> About</td><td><code>org.eclipse.ui.help.aboutAction</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Display Help"/> Display Help</td><td><code>org.eclipse.ui.help.displayHelp</code></td></tr>
  <tr style="background-color:#cccccc"><td><b>Category Views</b></td><td><code>org.eclipse.ui.category.views</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Show View"/> Show View</td><td><code>org.eclipse.ui.views.showView</code></td></tr>
  <tr style="background-color:#cccccc"><td><b>Category Perspectives</b></td><td><code>org.eclipse.ui.category.perspectives</code></td></tr>
  <tr><td><img src="images/noicon.gif" width="16" height="16" alt="Show Perspective"/> Show Perspective</td><td><code>org.eclipse.ui.perspectives.showPerspective</code></td></tr>
</table>
<div class="caption">
  <strong>Figure xxx</strong>: Commands defined in <code>org.eclipse.ui</code>
</div>

<h2>Menu Contributions</h2>

<ul>
  <li class="task">Sample Workbench screen with all possible positions for contributions</li>
  <li class="task">ui.menus extension point</li>
  <li class="task">Addressing scheme</li>
  <li class="task">Dynamic contributions</li>
  <li class="task">Writing extensible plugins</li>
</ul>

<h2>Key Bindings</h2>

<h2>Handlers</h2>

<ul>
  <li class="task">Purpose and properties</li>
  <li class="task">Default handler, specific/local handers</li>
  <li class="task">Nested IHandlerService implementations, scope of handlers</li>
  <li class="task">Declaring handlers via extension point</li>
  <li class="task">Declaring handlers via API</li>
  <li class="task">Handler lifecycle</li>
  <li class="task">UI element updates</li>
</ul>

<h2>Expressions</h2>

<h2>Sources</h2>

<ul>
  <li class="task">Custom sources</li>
</ul>

<h2>Contexts</h2>

<h2>Adapters for Legacy Actions [?]</h2>

<h2>Using Commands in Help Contents</h2>

<h2>Debugging</h2>

<h2>Example Plug-ins</h2>

<ul>
  <li class="task">Sample plug-ins demonstrating different kind of contribution
  scenarios, check <code>org.eclipse.ui.examples.contributions</code></li>
  <li class="task">Generic command browser plug-in to explore and debug an
  existing RCP application</li>
</ul>

<h2>Best Practices Check List</h2>

<ul>
  <li>Before defining a new command check for semantical similar global command
    definitions that can be re-used in the specific context.</li>
</ul>

<h2>References</h2>

<ul>
  <li>Paul Webster et al (2007). Platform Command Framwork. <i>wiki.eclipse.org</i><br/> 
    <a href="http://wiki.eclipse.org/Platform_Command_Framework">http://wiki.eclipse.org/Platform_Command_Framework</a></li>
  <li>Paul Webster et al (2008). Command Core Expressions. <i>wiki.eclipse.org</i><br/> 
    <a href="http://wiki.eclipse.org/Command_Core_Expressions">http://wiki.eclipse.org/Command_Core_Expressions</a></li>
  <li>Paul Webster et al (2008). Menu Contributions. <i>wiki.eclipse.org</i><br/> 
    <a href="http://wiki.eclipse.org/Menu_Contributions">http://wiki.eclipse.org/Menu_Contributions</a></li>
  <li>Paul Webster (2007). Menu Extension Mapping. <i>wiki.eclipse.org</i><br/> 
    <a href="http://wiki.eclipse.org/Menus_Extension_Mapping">http://wiki.eclipse.org/Menus_Extension_Mapping</a></li>
  <li>Basic workbench extension points using commands. <i>Eclipse 3.3 Online Help</i><br/>
    <a href="http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.platform.doc.isv/guide/workbench_cmd.htm">http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.platform.doc.isv/guide/workbench_cmd.htm</a></li>
  <li>Tonny Madsen (2007). Working with the menus extension point. <i>blog.rcp-company.com</i><br/>
    <a href="http://blog.rcp-company.com/2007/06/working-with-menus-extension-point.html">http://blog.rcp-company.com/2007/06/working-with-menus-extension-point.html</a></li>
</ul>

</div>
</body>
</html>
